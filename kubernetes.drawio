<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" version="27.0.2">
  <diagram name="k8s Service Routing" id="meh8bPrkDQd1ndtyiNP9">
    <mxGraphModel dx="2276" dy="1858" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="BmUm8y3OecFrrXnxxm0O-18" value="" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-50" y="-80" width="990" height="320" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-1" value="Node" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="40" y="60" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-2" value="NodePort 30080" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="180" y="75" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-3" value="kube-proxy" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="340" y="70" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-4" value="Service (svc-web)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="480" y="70" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-5" value="Pod A (10.244.1.10:80)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="680" y="20" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-6" value="Pod B (10.244.1.11:80)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="680" y="70" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-7" value="Pod C (10.244.1.12:80)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="680" y="120" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-8" style="endArrow=block;html=1;" parent="1" source="BmUm8y3OecFrrXnxxm0O-1" target="BmUm8y3OecFrrXnxxm0O-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-9" style="endArrow=block;html=1;" parent="1" source="BmUm8y3OecFrrXnxxm0O-2" target="BmUm8y3OecFrrXnxxm0O-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-10" style="endArrow=block;html=1;" parent="1" source="BmUm8y3OecFrrXnxxm0O-3" target="BmUm8y3OecFrrXnxxm0O-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-11" style="endArrow=open;html=1;dashed=1;" parent="1" source="BmUm8y3OecFrrXnxxm0O-4" target="BmUm8y3OecFrrXnxxm0O-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-12" style="endArrow=open;html=1;dashed=1;" parent="1" source="BmUm8y3OecFrrXnxxm0O-4" target="BmUm8y3OecFrrXnxxm0O-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-13" style="endArrow=open;html=1;dashed=1;" parent="1" source="BmUm8y3OecFrrXnxxm0O-4" target="BmUm8y3OecFrrXnxxm0O-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-15" value="引入 Service 后的服务访问" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="360" y="190" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-19" value="nginx" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="860" y="30" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-21" value="nginx" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="860" y="75" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BmUm8y3OecFrrXnxxm0O-22" value="nginx" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="860" y="125" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-1" value="User (Browser / Client)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;" parent="1" vertex="1">
          <mxGeometry x="290" y="290" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-2" value="Ingress" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;" parent="1" vertex="1">
          <mxGeometry x="290" y="400" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-3" value="Ingress Controller" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;" parent="1" vertex="1">
          <mxGeometry x="600" y="398" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-4" value="Service (ClusterIP / NodePort / LB)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;" parent="1" vertex="1">
          <mxGeometry x="290" y="520" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-5" value="CoreDNS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D1C4E9;" parent="1" vertex="1">
          <mxGeometry x="600" y="530" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-6" value="NodePort (30000+)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;" parent="1" vertex="1">
          <mxGeometry x="10" y="530" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-7" value="LoadBalancer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2EBF2;" parent="1" vertex="1">
          <mxGeometry x="10" y="660" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-8" value="&amp;nbsp;Pod (nginx / backend)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;" parent="1" vertex="1">
          <mxGeometry x="290" y="710" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-9" style="endArrow=block;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-1" target="c1VEmJGjKhBpYt-U4NZa-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-10" style="endArrow=block;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-2" target="c1VEmJGjKhBpYt-U4NZa-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-11" style="endArrow=block;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-3" target="c1VEmJGjKhBpYt-U4NZa-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-12" style="endArrow=block;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-4" target="c1VEmJGjKhBpYt-U4NZa-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-13" style="endArrow=block;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-5" target="c1VEmJGjKhBpYt-U4NZa-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-14" style="endArrow=block;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-6" target="c1VEmJGjKhBpYt-U4NZa-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-15" style="endArrow=block;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-7" target="c1VEmJGjKhBpYt-U4NZa-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-17" value="管理，创建" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="500" y="398" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-72" value="User" style="rounded=1;fillColor=#FFF9C4;" parent="1" vertex="1">
          <mxGeometry x="160" y="930" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-73" value="Service (NodePort)" style="rounded=1;fillColor=#FFCDD2;" parent="1" vertex="1">
          <mxGeometry x="280" y="930" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-75" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-72" target="c1VEmJGjKhBpYt-U4NZa-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-76" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-73" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-77" value="User" style="rounded=1;fillColor=#FFF9C4;" parent="1" vertex="1">
          <mxGeometry x="160" y="1010" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-78" value="Service (LoadBalancer)" style="rounded=1;fillColor=#B2EBF2;" parent="1" vertex="1">
          <mxGeometry x="280" y="1010" width="135" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-80" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-77" target="c1VEmJGjKhBpYt-U4NZa-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-81" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-78" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-82" value="User" style="rounded=1;fillColor=#FFF9C4;" parent="1" vertex="1">
          <mxGeometry x="160" y="1090" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-83" value="Ingress Controller" style="rounded=1;fillColor=#FFE0B2;" parent="1" vertex="1">
          <mxGeometry x="280" y="1090" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-84" value="Ingress Rule" style="rounded=1;fillColor=#FFF;" parent="1" vertex="1">
          <mxGeometry x="420" y="1090" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-85" value="Service (ClusterIP)" style="rounded=1;fillColor=#DCEDC8;" parent="1" vertex="1">
          <mxGeometry x="540" y="1090" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-87" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-82" target="c1VEmJGjKhBpYt-U4NZa-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-88" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-83" target="c1VEmJGjKhBpYt-U4NZa-84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-89" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-84" target="c1VEmJGjKhBpYt-U4NZa-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-90" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-85" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="680" y="1110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-91" value="Pod A (internal client)" style="rounded=1;fillColor=#E1F5FE;" parent="1" vertex="1">
          <mxGeometry x="160" y="1170" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-92" value="CoreDNS" style="rounded=1;fillColor=#D1C4E9;" parent="1" vertex="1">
          <mxGeometry x="312.5" y="1170" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-93" value="Service (ClusterIP)" style="rounded=1;fillColor=#DCEDC8;" parent="1" vertex="1">
          <mxGeometry x="440" y="1170" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-94" value="Pod B (server)" style="rounded=1;fillColor=#C8E6C9;" parent="1" vertex="1">
          <mxGeometry x="600" y="1170" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-95" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-91" target="c1VEmJGjKhBpYt-U4NZa-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-96" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-92" target="c1VEmJGjKhBpYt-U4NZa-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-97" style="endArrow=block;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-93" target="c1VEmJGjKhBpYt-U4NZa-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-101" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-98" target="c1VEmJGjKhBpYt-U4NZa-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-98" value="service 单独工作" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-50" y="935" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-100" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-99" target="c1VEmJGjKhBpYt-U4NZa-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-99" value="service 采用 LoadBalancer" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-75" y="1015" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-102" target="c1VEmJGjKhBpYt-U4NZa-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-102" value="service 结合 ingress 作路由转发" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-85" y="1095" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-105" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c1VEmJGjKhBpYt-U4NZa-104" target="c1VEmJGjKhBpYt-U4NZa-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-104" value="集群内 service 作为 Pod 之间访问的介质" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-115" y="1180" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-106" value="Pod (nginx / backend)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;" parent="1" vertex="1">
          <mxGeometry x="680" y="1090" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-107" value="Pod (nginx / backend)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;" parent="1" vertex="1">
          <mxGeometry x="490" y="1015" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c1VEmJGjKhBpYt-U4NZa-108" value="Pod (nginx / backend)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;" parent="1" vertex="1">
          <mxGeometry x="490" y="930" width="180" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
